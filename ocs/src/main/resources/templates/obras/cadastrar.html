<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cadastrar Obra</title>

    <style>
        body {
          margin: 0;
          font-family: Arial, sans-serif;
          background: #f7f7f7;
          color: #333;
        }

        header {
          background: #1b3a57;
          color: white;
          padding: 20px;
          text-align: center;
        }

        nav {
          background: #153049;
          padding: 10px;
          display: flex;
          justify-content: center;
          gap: 20px;
        }

        nav a {
          color: white;
          text-decoration: none;
          font-weight: bold;
        }

        .section {
          padding: 40px 20px;
          max-width: 950px;
          margin: auto;
          background: white;
          border-radius: 12px;
          box-shadow: 0 3px 8px rgba(0,0,0,0.07);
        }

        label {
          font-weight: bold;
        }

        input, textarea, select {
          width: 100%;
          padding: 8px;
          margin-top: 6px;
          margin-bottom: 16px;
          border-radius: 6px;
          border: 1px solid #ccc;
        }

        .autoras-box {
          border: 1px solid #ddd;
          border-radius: 10px;
          padding: 15px;
          max-height: 300px;
          overflow-y: auto;
          background: #fafafa;
        }

        .autora-item {
          padding: 6px;
        }

        .autora-item input:checked + span {
          font-weight: bold;
          color: #1b3a57;
        }

        .btn {
          background: #1b3a57;
          color: white;
          padding: 10px 16px;
          border-radius: 8px;
          border: none;
          cursor: pointer;
        }

        footer {
          margin-top: 40px;
          background: #1b3a57;
          color: white;
          padding: 20px;
          text-align: center;
        }
    </style>
</head>

<body>

<header>
    <h1>OCS.EUC - Observatório da Comunidade Surda</h1>
</header>

<nav>
    <a th:href="@{/}">Início</a>
    <a th:href="@{/obras}">Obras</a>
    <a th:href="@{/autoras}">Autoras</a>
</nav>

<section class="section">
    <h2>Cadastrar Obra</h2>

    <form th:action="@{/obras}" method="post">

        <label>Título</label>
        <input type="text" name="titulo" required>

        <label>Resumo</label>
        <textarea name="resumo"></textarea>

        <label>Palavras-chave</label>
        <input type="text" name="palavrasChave">

        <label>Ano de Publicação</label>
        <input type="number" name="anoPublicacao" required>

        <label>URL do Arquivo</label>
        <input type="text" name="urlArquivo">

        <label>Categoria</label>
        <select name="categoriaId" required>
            <option value="">Selecione</option>
            <option th:each="cat : ${categorias}"
                    th:value="${cat.id}"
                    th:text="${cat.nome}">
            </option>
        </select>

        <hr>

        <h3>Autoras</h3>

        <div class="autoras-box">
            <div class="autora-item" th:each="autora : ${autoras}">
                <label>
                    <input type="checkbox"
                           name="autorasIds"
                           th:value="${autora.id}">
                    <span th:text="${autora.nome}"></span>
                </label>
            </div>
        </div>

        <br>

        <button type="submit" class="btn">Salvar Obra</button>
    </form>
</section>

<footer>
    <p>© 2025 Observatório da Comunidade Surda — IFBA Euclides da Cunha</p>
</footer>

</body>
</html>
